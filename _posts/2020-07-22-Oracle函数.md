---
layout: post
title: 'Oracle函数'
date: 2020-07-22
author: Anarkh-Lee
cover: 'http://on2171g4d.bkt.clouddn.com/jekyll-banner.png'
tags: Oracle




---

> Oracle函数总结

### 1.数值型函数

#### 1.1返回绝对值.abs()

```
ABS(x)
【功能】返回x的绝对值
【参数】x，数字型表达式
【返回】数字

【示例】
  select abs(100),abs(-100) from dual;
```

#### 1.2返回正负值.sign()

```
sign(x)
【功能】返回x的正负值
【参数】x，数字型表达式
【返回】数字，若为正值返回1，负值返回-1，0返回0

【示例】
  select sign(100),sign(-100),sign(0) from dual;
```

#### 1.3返回较大的最小整数.ceil()

```
ceil(x)
【功能】返回大于等于x的最小整数值
【参数】x，数字型表达式
【返回】数字

【示例】
  select ceil(3.1),ceil(2.8+1.3),ceil(0) from dual;
返回4，5，0
```

#### 1.4返回较小的最大整数.floor()

```
floor(x)
【功能】返回小于等于x的最大整数值
【参数】x，数字型表达式
【返回】数字

【示例】
  select floor(3.1),floor(2.8+1.3),floor(0) from dual;
返回4，5，0
```

#### 1.5返回x的y次幂.power()

```
power(x,y)
【功能】返回x的y次幂
【参数】x，y 数字型表达式
【返回】数字

【示例】
  select power(2.5,2),power(1.5,0),power(20,-1) from dual;
返回：6.25,1,0.05

【相近】exp(y)
返回e的y次幂。（e为数学常量）


【关系】z=power(x,y),则y=1/log(z,x)   (条件z,x>0)
```

#### 1.6返回常量e的y次幂.exp(y)

```
exp(y)
【功能】返回e的y次幂（e为数学常量）
【参数】y，数字型表达式
【返回】数字

【示例】
  select exp(3),exp(0),exp(-3) from dual;
返回：20.0855369,1 ,0.049787068

【相近】power(x,y)
返回e的y次幂。


【相反】ln(y)
返回e为底的自然对数。
```

#### 1.7返回已x为底的y的对数.log(x,y)

```
log(x,y)
【功能】返回以x为底的y的对数
【参数】x，y,数字型表达式，
【条件】x,y都必须大于0
【返回】数字

【示例】
  select power(4,2),log(16,2),1/log(16,4) from dual;
返回：16,0.25,2

  select power(6.5,3),log(274.625,3),1/log(power(6.5,3),6.5) from dual;
返回：  274.625 ，   0.195642521   ，           3

【相近】ln(y)
返回e为底的y的对数。（e为数学常量）


【关系】z=power(x,y),则y=1/log(z,x)   (条件z,x>0)
```

#### 1.8返回以常量e为底的y的对数.ln(y)

```
ln(y)
【功能】返回以e为底的y的对数（e为数学常量）
【参数】y，数字型表达式 (条件y>0)
【返回】数字

【示例】
  select exp(3),exp(-3),ln(20.0855369),ln(0.049787068) from dual;
返回：20.0855369 , 0.049787068  ,   3  ,   -3

【相近】log(x,y)
返回以x为底的y的对数


【相反】exp(y)
返回e的y次幂
```

#### 1.9返回x除以y的余数.mod(x,y)

```
mod(x,y)
【功能】返回x除以y的余数
【参数】x,y，数字型表达式
【返回】数字

【示例】
  select mod(23,8),mod(24,8) from dual;
返回：7,0
```

#### 1.10返回四舍五入后的值.round()

```
round(x[,y])
【功能】返回四舍五入后的值
【参数】x,y，数字型表达式,如果y不为整数则截取y整数部分，如果y>0则四舍五入为y位小数，如果y小于0则四舍五入到小数点向左第y位。
【返回】数字

【示例】
  select round(5555.6666,2.1),round(5555.6666,-2.6),round(5555.6666) from dual;
返回：   5555.67     ,    5600    ,    5556

【相近】trunc(x[,y])
返回截取后的值，用法同round(x[,y]),只是不四舍五入
```

#### 1.11返回截取后的值.trunc()

```
trunc(x[,y])
【功能】返回x按精度y截取后的值
【参数】x,y，数字型表达式,如果y不为整数则截取y整数部分，如果y>0则截取到y位小数，如果y小于0则截取到小数点向左第y位，小数前其它数据用0表示。
【返回】数字

【示例】
  select trunc(5555.66666,2.1),trunc(5555.66666,-2.6),trunc(5555.033333)  from dual;
返回：5555.66                    5500               5555

【相近】round(x[,y])
返回截取后的值，用法同trunc(x[,y]),只是要做四舍五入
```

#### 1.12返回x的平方根.sqrt(x)

```
sqrt(x)
【功能】返回x的平方根
【参数】x数字型表达式
【返回】数字

【示例】
  select sqrt(64),sqrt(10) from dual;
返回：8 , 3.16227766
```

#### 1.13三角函数

```
SIN(x)
【功能】返回一个数字的正弦值
【示例】select sin(1.57079) from dual;
 返回：  1

SIGH(x)
【功能】返回双曲正弦的值
【示例】select sin(20),sinh(20) from dual;
返回：0.91294525, 242582598

COS(x)
【功能】返回一个给定数字的余弦
【示例】select cos(-3.1415927) from dual;
返回： -1

COSH(x)
【功能】返回一个数字反余弦值
【示例】select cosh(20) from dual;
返回：242582598

TAN
【功能返回数字的正切值
【示例】select tan(20),tan(10) from dual;
返回：2.2371609 ,0.64836083


TANH
【功能返回数字n的双曲正切值
【示例】select tanh(20),tan(20) from dual;
返回：1 ,2.2371609

ASIN(x)
【功能】给出反正弦的值
【示例】select asin(0.5) from dual;
返回：0.52359878

ACOS(x)
【功能】给出反余弦的值
【示例】select acos(-1) from dual;
返回：3.1415927

ATAN(x)
【功能】返回一个数字的反正切值
【示例】 select atan(1) from dual;
返回：0.78539816
```



### 2.字符型函数

#### 2.1返回字符的ASCII码.ASCII()

```
ASCII(x1)
【功能】：返回字符表达式最左端字符的ASCII 码值。
【参数】：x1，字符表达式
【返回】：数值型
【示例】
SQL> select ascii('A') A,ascii('a') a,ascii(' ') space,ascii('示') hz from dual;

A         A          SPACE        hz
--------- --------- --------- ---------
65        97         32         51902


【说明】在ASCII（）函数中，纯数字的字符串可不用‘’括起来，但含其它字符的字符串必须用‘’括起来使用，否则会出错。
　　如果最左端是汉字，只取汉字最左半边字符的ASCII 码

【互反函数】：chr()
```

#### 2.2返回ASCII码为x的字符.CHR(x)

```
CHR(n1)
【功能】：将ASCII 码转换为字符。
【参数】：n1,为0 ~ 255，整数
【返回】：字符型
【示例】
SQL> select chr(54740) zhao,chr(65) chr65 from dual;

ZH C
-- -
赵 A



【互反函数】：ASCII
```

#### 2.3连接两个字符串.CONCAT()

```
CONCAT(c1,c2)
【功能】连接两个字符串
【参数】c1，c2 字符型表达式
 
【返回】字符型

同：c1||c2


【示例】
 select concat('010-','88888888')||'转23' 高乾竞电话 from dual;

高乾竞电话
----------------
010-88888888转23
```

#### 2.4把每个单词首个字母变为大写.INITCAP()

```
INITCAP(c1)
【功能】返回字符串并将字符串的第一个字母变为大写，其它字母小写;
【参数】c1字符型表达式
 
【返回】字符型



【示例】
 SQL> select initcap('smith abc aBC') upp from dual;

UPP
-----
Smith Abc Abc
```

#### 2.5把整个字符串转换为小写.LOWER()

```
LOWER(c1)
【功能】：将字符串全部转为小写
【参数】：c1，字符表达式
【返回】：字符型
【示例】
SQL> select lower('AaBbCcDd')AaBbCcDd from dual;

AABBCCDD
--------
aabbccdd


【同类】UPPER()将字符串全部转为大写。
```

#### 2.6把整个字符串转换为大写.UPPER()

```
UPPER(c1)
【功能】将字符串全部转为大写
【参数】c1，字符表达式
【返回】字符型
【示例】
SQL> select upper('AaBbCcDd') upper from dual;

UPPER
--------
AABBCCDD



【同类】LOWER()将字符串全部转为小写
```

#### 2.7把每个单词首个字母变为大写.NLS_INITCAP()

```
NLS_INITCAP(x[,y])
【功能】返回字符串并将字符串的第一个字母变为大写，其它字母小写;
【参数】x字符型表达式
【参数】Nls_param可选，
查询数据级的NLS设置:select * from nls_database_parameters;

例如：
指定排序的方式(nls_sort=) 。
nls_sort=SCHINESE_RADICAL_M（部首、笔画）
nls_sort=SCHINESE_STROKE_M（笔画、部首SCHINESE_PINYIN_M（拼音））

【返回】字符型


【示例】
 select nls_initcap('ab cde') "test",
nls_initcap('a c b d e','nls_sort= SCHINESE_PINYIN_M') "test1" from dual;
返回：Ab Cde, A C B D E


 select nls_initcap('ab cde') "test",
nls_initcap('a c b d e','NLS_LANGUAGE=AMERICAN') "test1" from dual;
```

#### 2.8把整个字符串转换为小写.NLS_LOWER()

```
NLS_LOWER(x[,y])
【功能】返回字符串并将字符串的变为小写;
【参数】x字符型表达式
【参数】Nls_param可选，指定排序的方式(nls_sort=) 。
SCHINESE_RADICAL_M（部首、笔画）
SCHINESE_STROKE_M（笔画、部首SCHINESE_PINYIN_M（拼音））
 
【返回】字符型



【示例】
 select nls_LOWER('ab cde') "test",nls_LOWER('a c b d e','nls_sort= SCHINESE_PINYIN_M') "test1" from dual;
返回：ab cde,a c b d e
```

#### 2.9把整个字符串转换为大写.NLS_UPPER()

```
NLS_UPPER(x[,y])
【功能】返回字符串并将字符串的转换为大写;
【参数】x字符型表达式
【参数】Nls_param可选，指定排序的方式(nls_sort=) 。
SCHINESE_RADICAL_M（部首、笔画）
SCHINESE_STROKE_M（笔画、部首SCHINESE_PINYIN_M（拼音））
 
【返回】字符型



【示例】
 select NLS_UPPER('ab cde') "test",NLS_UPPER('a c b d e','nls_sort= SCHINESE_PINYIN_M') "test1" from dual;
返回：AB CDE,A C B D E
```

#### 2.10字符串中搜索字符位置（全角算1字符）.INSTR()

```
INSTR(C1,C2[,I[,J]])
【功能】在一个字符串中搜索指定的字符,返回发现指定的字符的位置;
【说明】多字节符(汉字、全角符等)，按1个字符计算
【参数】
C1    被搜索的字符串
C2    希望搜索的字符串
I     搜索的开始位置,默认为1
J     第J次出现的位置,默认为1
【返回】数值

【示例】select instr('oracle traning','ra',1,2) instring from dual;
返回：9


【示例】select instr('重庆某软件公司','某',1,1),instrb('重庆某软件公司','某',1,1) instring from dual;
返回：3,5
```

#### 2.11字符串中搜索字符位置（全角算2字符）.INSTRB()

```
INSTRB(C1,C2[,I[,J]])
【功能】在一个字符串中搜索指定的字符,返回发现指定的字符的位置;
【说明】多字节符(汉字、全角符等)，按2个字符计算
【参数】
C1    被搜索的字符串
C2    希望搜索的字符串
I     搜索的开始位置,默认为1
J     第J次出现的位置,默认为1
【返回】数值

【示例】select instr('重庆某软件公司','某',1,1),instrb('重庆某软件公司','某',1,1) instring from dual;
返回：3,5
```

#### 2.12返回字符串的长度（全角算1字符）.LENGTH()

```
LENGTH(c1)
【功能】返回字符串的长度;
【说明】多字节符(汉字、全角符等)，按1个字符计算
【参数】C1 字符串
【返回】数值型
【示例】
SQL> select length('高乾竞'),length('北京市海锭区'),length('北京TO_CHAR') from dual;

length('高乾竞')    length('北京市海锭区')     length('北京TO_CHAR')
----------------- ----------------            ----------------------------
            3             6                               9
```

#### 2.13返回字符串的长度（全角算2字符）.LENGTH()

```
LENGTH(c1)
【功能】返回字符串的长度;
【说明】多字节符(汉字、全角符等)，按2个字符计算
【参数】C1 字符串
【返回】数值型
【示例】
SQL> select length('高乾竞'),lengthB('高乾竞') from dual;

length('高乾竞')    lengthB('高乾竞')   
----------------- ----------------           
            3             6          
```

#### 2.14返回字符串的长度（其他）.LENGTH().LENGTH2().LENGTH4()

```
LENGTHC(c1).LENGTH2(c1).LENGTH4(c1)
【功能】返回字符串的长度;
【说明】多字节符(汉字、全角符等)，按1个字符计算
【参数】C1 字符串
【返回】数值型
【示例】
SQL> select length('高乾竞'),length('北京市海锭区'),length('北京TO_CHAR') from dual;

Oracle中的字符函数中，有一类函数是求字符长度的函数，length、lengthB、lengthC、length2、length4几个函数中比较常用的是length、lengthB。

他们的含义分别是：
Length函数返回字符的个数，使用定义是给定的字符集来计算字符的个数
LENGTHB给出该字符串的byte
LENGTHC使用纯Unicode
LENGTH2使用UCS2
LENGTH4使用UCS4

下面使一些例子：
Select length('你好') from dual;  2

Select lengthB('你好'),lengthC('你好'),length2('你好'), length4('你好')  from dual; 
```

#### 2.15在左边添加字符.LPAD()

```
LPAD(c1,n[,c2])
【功能】在字符串c1的左边用字符串c2填充，直到长度为n时为止
【参数】C1 字符串
n 追加后字符总长度
c2 追加字符串,默认为空格
【返回】字符型
【说明】如果c1长度大于n，则返回c1左边n个字符
如果如果c1长度小于n，c2和c1连接后大于n，则返回连接后的右边n个字符


【示例】
SQL> select lpad('gao',10,'*') from dual;

lpad('gao',10,'*')
-----------------
*******gao

不够字符则用*来填满

【相似】RPAD()在列的右边粘贴字符
【相反】LTRIM() 删除左边出现的字符串
```

#### 2.16在右边添加字符.RPAD()

```
RPAD(c1,n[,c2])
【功能】在字符串c1的右边用字符串c2填充，直到长度为n时为止
【参数】C1 字符串
n 追加后字符总长度
c2 追加字符串,默认为空格
【返回】字符型
【说明】如果c1长度大于n，则返回c1左边n个字符
如果如果c1长度小于n，c1和c2连接后大于n，则返回连接后的左边n个字符
如果如果c1长度小于n，c1和c2连接后小于n，则返回c1与多个重复c2连接(总长度>=n)后的左边n个字符

【示例】
SQL> select rpad('gao',10,'*a') from dual;

rpad('gao',10,'*a')
-----------------
gao*a*a*a*


【相似】LPAD()在列的左边粘贴字符
【相反】RTRIM() 删除右边出现的字符串
```

#### 2.17删除左边字符串.LTRIM()

```
LTRIM(c1,[,c2])
【功能】删除左边出现的字符串
【参数】C1 字符串
c2 追加字符串,默认为空格
【返回】字符型


【示例】
SQL> select LTRIM('   gao qian jing',' ') text from dual;
或：select LTRIM('   gao qian jing') text from dual;

text
-----------------
gao qian jing


【相似】RTRIM()删除右边出现的字符串
【相反】LPAD() 在列的左边粘贴字符
```

#### 2.18删除右边字符串.RTRIM()

```
RTRIM(c1,[,c2])
【功能】删除右边出现的字符串
【参数】C1 字符串
c2 追加字符串,默认为空格
【返回】字符型


【示例】
SQL> select RTRIM('gao qian jingXXXX','X') text from dual;

text
-----------------
gao qian jing


【相似】LTRIM()删除左边出现的字符串
【相反】RPAD() 在列的右边粘贴字符
```

#### 2.19替换子字符串.REPLACE()

```
REPLACE(c1,c2[,c3])
【功能】将字符表达式值中，部分相同字符串，替换成新的字符串
【参数】
c1   希望被替换的字符或变量 
c2   被替换的字符串
c3   要替换的字符串，默认为空(即删除之意，不是空格)
【返回】字符型

【示例】
SQL> select replace('he love you','he','i') test from dual;

test
------------------------------
i love you
```

#### 2.20字符串语音标识方式.SOUNDEX()

```
SOUNDEX(c1)
【功能】返回字符串参数的语音表示形式
【参数】c1,字符型
【返回】字符串

【说明】相对于比较一些读音相同，但是拼写不同的单词是非常有用的。

计算语音的算法： 
　　1.保留字符串首字母，但删除a、e、h、i、o、w、y 
　　2.将下表中的数字赋给相对应的字母 
　　(1) 1：b、f、p、v 
　　(2) 2：c、g、k、q、s、x、z 
　　(3) 3：d、t 
　　(4) 4：l 
　　(5) 5：m、n 
　　(6) 6：r 
　　3. 如果字符串中存在拥有相同数字的2个以上（包含2个）的字母在一起（例如b和f），或者只有h或w，则删除其他的，只保留1个 
　　4.只返回前4个字节，不够用0填充 
　　示例： 
　　soundex('two'),soundex('too'),soundex('to')，他们的结果都是T000 
　　soundex('cap'),soundex('cup')，他们的结果都是C100 
　　soundex('house'),soundex('horse')，他们的结果都分别是H200，H620
```

#### 2.21截取子字符串（全角算1字符）.SUBSTR()

```
SUBSTR(c1,n1[,n2])
【功能】取子字符串
【说明】多字节符(汉字、全角符等)，按1个字符计算
【参数】在字符表达式c1里，从n1开始取n2个字符;若不指定n2,则从第y个字符直到结束的字串.
【返回】字符型

【示例】
SQL> select substr('13088888888',3,8) test from dual;

test
--------
08888888
```

#### 2.22截取子字符串（全角算2字符）.SUBSTRB()

```
SUBSTRB(c1,n1[,n2])
【功能】取子字符串
【说明】多字节符(汉字、全角符等)，按2个字符计算
【参数】在字符表达式c1里，从n1开始取n2个字符;若不指定n2,则从第y个字符直到结束的字串.
【返回】字符型,如果从多字符右边开始,则用空格表示。

【示例】
select substr('我手机13012345678',4,11),substrb('我手机13012345678',4,11),substrb('我手机13012345678',3,11) test from dual;
返回:13012345678, 机13012345,手机1301234
```

#### 2.23替换子字符.TRANSLATE()

```
TRANSLATE(c1,c2,c3)
【功能】将字符表达式值中，指定字符替换为新字符
【说明】多字节符(汉字、全角符等)，按1个字符计算
【参数】
c1   希望被替换的字符或变量 
c2   查询原始的字符集
c3   替换新的字符集，将c2对应顺序字符，替换为c3对应顺序字符
如果c3长度大于c2，则c3长出后面的字符无效
如果c3长度小于c2，则c2长出后面的字符均替换为空(删除)
如果c3长度为0，则返回空字符串。
如果c2里字符重复，按首次位置为替换依据

【返回】字符型

【示例】
select TRANSLATE('he love you','he','i'),
TRANSLATE('重庆的人','重庆的','上海男'),
TRANSLATE('重庆的人','重庆的重庆','北京男士们'),
TRANSLATE('重庆的人','重庆的重庆','1北京男士们'),
TRANSLATE('重庆的人','1重庆的重庆','北京男士们') from dual;
返回：i love you,上海男人,北京男人,1北京人,京男士人
```

#### 2.24删除左边和右边字符串.TRIM()

```
TRIM(c1 from c2)
【功能】删除左边和右边出现的字符串
【参数】C2 删除前字符串
c1 删除字符串,默认为空格
【返回】字符型


【示例】
 select TRIM('X' from 'XXXgao qian jingXXXX'),TRIM('X' from 'XXXgaoXXjingXXXX') text from dual;
返回：gao qian jing		gaoXXjing


【相似】LTRIM()删除左边出现的字符串  RTRIM()删除右边出现的字符串
```

### 3.日期函数

#### 3.1返回系统当前日期.sysdate

```
sysdate
【功能】：返回当前日期。
【参数】：没有参数，没有括号
【返回】：日期

【示例】select sysdate  hz from dual;
返回：2020-7-22
```

#### 3.2返回指定月数后的日期.add_months()

```
add_months(d1,n1)
【功能】：返回在日期d1基础上再加n1个月后新的日期。
【参数】：d1，日期型，n1数字型
【返回】：日期

【示例】select sysdate,add_months(sysdate,3)  hz from dual;
返回：2020-7-22,2020-10-22
```

#### 3.3返回本月最后一天的日期.last_day()

```
last_day(d1)
【功能】：返回日期d1所在月份最后一天的日期。
【参数】：d1，日期型
【返回】：日期

【示例】select sysdate,last_day(sysdate)  hz from dual;
返回：2020-7-22，2008-7-31
```

#### 3.4返回2个日期间隔月数.months_between()

```
months_between(d1,d2)
【功能】：返回日期d1到日期d2之间的月数。
【参数】：d1，d2 日期型

【返回】：数字
如果d1>d2，则返回正数
如果d1<d2，则返回负数

【示例】
select sysdate,
months_between(sysdate,to_date('2006-01-01','YYYY-MM-DD')),
months_between(sysdate,to_date('2016-01-01','YYYY-MM-DD')) from dual;

返回：2020/3/1 16:01:48,170,50
```

#### 3.5返回时区的对应时间.NEXT_TIME()

```
NEW_TIME(dt1,c1,c2)
【功能】：给出时间dt1在c1时区对应c2时区的日期和时间
【参数】：dt1，d2 日期型

【返回】：日期时间

【参数】：c1,c2对应的 时区及其简写   
  大西洋标准时间：AST或ADT   
  阿拉斯加_夏威夷时间：HST或HDT   
  英国夏令时：BST或BDT   
  美国山区时间：MST或MDT   
  美国中央时区：CST或CDT   
  新大陆标准时间：NST   
  美国东部时间：EST或EDT   
  太平洋标准时间：PST或PDT   
  格林威治标准时间：GMT   
  Yukou标准时间：YST或YDT 


【示例】
 select to_char(sysdate,'yyyy.mm.dd hh24:mi:ss') bj_time,
to_char(new_time(sysdate,'PDT','GMT'),'yyyy.mm.dd hh24:mi:ss') los_angles from dual;

返回：
BJ_TIME             LOS_ANGLES
------------------- -------------------
2008.11.05 20:11:58 2008.11.06 03:11:58

【示例】
 select sysdate bj_time,
new_time(sysdate,'PDT','GMT') los_angles from dual;
返回：
BJ_TIME             LOS_ANGLES
------------------- -------------------
2008-11-05 20:11:58 2008-11-06 03:11:58
```

#### 3.6四舍五入后的期间第一天.round()

```
round(d1[,c1])
【功能】：给出日期d1按期间(参数c1)四舍五入后的期间的第一天日期（与数值四舍五入意思相近）
【参数】：d1日期型,c1为字符型(参数)，c1默认为j（即最近0点日期)
【参数表】：c1对应的参数表:
最近0点日期: 取消参数c1或j
最近的星期日：day或dy或d
最近月初日期：month或mon或mm或rm 
最近季日期：q
最近年初日期：syear或year或yyyy或yyy或yy或y(多个y表示精度)  
最近世纪初日期：cc或scc


【返回】：日期

 
【示例】
select sysdate 当时日期,
round(sysdate) 最近0点日期,
round(sysdate,'day') 最近星期日,
round(sysdate,'month') 最近月初,
round(sysdate,'q') 最近季初日期, 
round(sysdate,'year') 最近年初日期 from dual;
```

#### 3.7返回日期所在期间的第一天.trunc()

```
trunc(d1[,c1])
【功能】：返回日期d1所在期间(参数c1)的第一天日期
【参数】：d1日期型,c1为字符型(参数)，c1默认为j（即当前日期)
【参数表】：c1对应的参数表:
最近0点日期: 取消参数c1或j
最近的星期日：day或dy或d (每周顺序：日，一，二，三，四，五，六）
最近月初日期：month或mon或mm或rm 
最近季日期：q
最近年初日期：syear或year或yyyy或yyy或yy或y(多个y表示精度)  
最近世纪初日期：cc或scc


【返回】：日期

 
【示例】
select sysdate 当时日期,
trunc(sysdate) 今天日期,
trunc(sysdate,'day') 本周星期日,
trunc(sysdate,'month') 本月初,
trunc(sysdate,'q') 本季初日期, 
trunc(sysdate,'year') 本年初日期 from dual;
```

#### 3.8返回下周某一天的日期.NEXT_DAY()

```
next_day(d1[,c1])
【功能】：返回日期d1在下周，星期几(参数c1)的日期
【参数】：d1日期型,c1为字符型(参数)，c1默认为j（即当前日期)
【参数表】：c1对应:星期一，星期二，星期三……星期日
【返回】：日期

 
【示例】
select sysdate 当时日期,
next_day(sysdate,'星期一') 下周星期一,
next_day(sysdate,'星期二') 下周星期二,
next_day(sysdate,'星期三') 下周星期三,
next_day(sysdate,'星期四') 下周星期四,
next_day(sysdate,'星期五') 下周星期五,
next_day(sysdate,'星期六') 下周星期六,
next_day(sysdate,'星期日') 下周星期日 from dual;
```

#### 3.9提取时间日期中数据.extract()

```
extract(c1 from d1)
【功能】：日期/时间d1中，参数(c1)的值
【参数】：d1日期型(date)/日期时间型(timestamp),c1为字符型(参数)
【参数表】：c1对应的参数表详见示例


【返回】：字符

 
【示例】
select 
extract(hour from timestamp '2001-2-16 2:38:40 ' ) 小时,
extract(minute from timestamp '2001-2-16 2:38:40 ' ) 分钟,
extract(second from timestamp '2001-2-16 2:38:40 ' ) 秒,
extract(DAY from timestamp '2001-2-16 2:38:40 ' ) 日,
extract(MONTH from timestamp '2001-2-16 2:38:40 ' ) 月,
extract(YEAR from timestamp '2001-2-16 2:38:40 ' ) 年
 from dual;

select extract (YEAR from date '2001-2-16' ) from dual; 


select sysdate 当前日期,
extract(hour from timestamp timestamp sysdate) 小时,
extract(DAY from sysdate ) 日,
extract(MONTH from sysdate ) 月,
extract(YEAR from sysdate ) 年
 from dual;
```

#### 3.10返回会话中的日期和时间.localtimestamp

```
localtimestamp
【功能】：返回会话中的日期和时间 
【参数】：没有参数，没有括号
【返回】：日期

【示例】select localtimestamp from dual;
返回：14-11月-08 12.35.37.453000 上午
```

#### 3.11返回当前会话时区中的当前日期和时间.current_timestamp

```
current_timestamp
【功能】：以timestamp with time zone数据类型返回当前会话时区中的当前日期
【参数】：没有参数，没有括号
【返回】：日期

【示例】select current_timestamp from dual;
返回：14-11月-08 12.37.34.609000 上午 +08:00
```

#### 3.12返回当前会话时区中的当前日期.current_date

```
current_date
【功能】：返回当前会话时区中的当前日期 
【参数】：没有参数，没有括号
【返回】：日期

【示例】select current_date from dual;
返回：2008-11-14
```

#### 3.13返回数据库时区设置.dbtimezone

```
dbtimezone
【功能】：返回时区
【参数】：没有参数，没有括号
【返回】：字符型

【示例】select dbtimezone from dual;
```

#### 3.14返回当前会话时区.SESSIONTIMEZONE

```
SESSIONTIMEZONE
【功能】：返回会话时区
【参数】：没有参数，没有括号
【返回】：字符型

【示例】select dbtimezone,SESSIONTIMEZONE from dual;
返回:+00:00   +08:00
```

#### 3.15变动日期时间数值.INTERVAL

```
INTERVAL c1 set1
【功能】：变动日期时间数值
【参数】：c1为数字字符串或日期时间字符串，set1为日期参数
【参数表】：set1具体参照示例

【返回】：日期时间格式的数值,前面多个+号
以天或天更小单位时可用数值表达式借用，如1表示1天，1/24表示1小时，1/24/60表示1分钟


【示例】
select
trunc(sysdate)+(interval '1' second), --加1秒(1/24/60/60)
trunc(sysdate)+(interval '1' minute), --加1分钟(1/24/60)
trunc(sysdate)+(interval '1' hour), --加1小时(1/24)
trunc(sysdate)+(INTERVAL '1' DAY),  --加1天(1)
trunc(sysdate)+(INTERVAL '1' MONTH), --加1月
trunc(sysdate)+(INTERVAL '1' YEAR), --加1年
trunc(sysdate)+(interval '01:02:03' hour to second), --加指定小时到秒
trunc(sysdate)+(interval '01:02' minute to second), --加指定分钟到秒
trunc(sysdate)+(interval '01:02' hour to minute), --加指定小时到分钟
trunc(sysdate)+(interval '2 01:02' day to minute) --加指定天数到分钟
from dual;
```



### 4.转换函数

#### 4.1字符串转换为rowid值.chartorowid()

```
chartorowid(c1) 。。
【功能】转换varchar2类型为rowid值
【参数】c1,字符串，长度为18的字符串，字符串必须符合rowid格式
【返回】返回rowid值
【示例】
SELECT chartorowid('AAAADeAABAAAAZSAAA') FROM DUAL;

【说明】
在Oracle中，每一条记录都有一个rowid，rowid在整个数据库中是唯一的，rowid确定了每条记录是在Oracle中的哪一个数据文件、块、行上。
在重复的记录中，可能所有列的内容都相同，但rowid不会相同.
```

#### 4.2rowid值转换字符串.ROWIDTOCHAR()

```
ROWIDTOCHAR(rowid) 。。
【功能】转换rowid值为varchar2类型
【参数】rowid,固定参数
【返回】返回长度为18的字符串

【示例】
SELECT ROWIDTOCHAR(rowid) FROM DUAL;

【说明】
在Oracle中，每一条记录都有一个rowid，rowid在整个数据库中是唯一的，rowid确定了每条记录是在Oracle中的哪一个数据文件、块、行上。
在重复的记录中，可能所有列的内容都相同，但rowid不会相同.
```

#### 4.3字符串语言字符集转换.CONVERT()

```
CONVERT(c1,set1,set2)
【功能】将源字符串c1 从一个语言字符集set2转换到另一个目的set1字符集
【参数】c1,字符串，set1,set2为字符型参数
【返回】字符串

【示例】
select convert('strutz','we8hp','f7dec') "conversion" from dual;

conver
------
strutz

select convert(name,'us7ascii','zhs16cgb231280') "conversion" from dual;
```

#### 4.4十六进制转换为二进制.HEXTORAW()

```
HEXTORAW(c1)
【功能】将一个十六进制构成的字符串转换为二进制

【参数】c1,十六进制的字符串


【返回】字符串



【示例】
select HEXTORAW('A123')  from dual;
```

#### 4.5二进制转换为十六进制.RAWTOHEX()

```
RAWTOHEX(c1)
【功能】将一个二进制构成的字符串转换为十六进制

【参数】c1,二进制的字符串

【返回】字符串

【示例】
select RAWTOHEX('A123')  from dual;
```

#### 4.6数字或日期转换为字符串.TO_CHAR()

TO_CHAR(x[[,c2],C3])
【功能】将日期或数据转换为char数据类型
【参数】
x是一个date或number数据类型。
c2为格式参数
c3为NLS设置参数
如果x为日期nlsparm=NLS_DATE_LANGUAGE  控制返回的月份和日份所使用的语言。
如果x为数字nlsparm=NLS_NUMERIC_CHARACTERS  用来指定小数位和千分位的分隔符，以及货币符号。
NLS_NUMERIC_CHARACTERS ="dg",  NLS_CURRENCY="string"

【返回】varchar2字符型


【说明1】x为数据型时

c1格式表参考：

| 序号                                                         | 格式              | 简例       | 说明                                                         |
| ------------------------------------------------------------ | ----------------- | ---------- | ------------------------------------------------------------ |
| 1                                                            | ,(逗号)           | '9999,999' | 逗号,一般以千分位出现,作为分组符号使用.如果需要您也可以当作是十分位,百分位出现,可以出现N次,视乎数字的大小而定. |
| 变态的例子是 to_char(1234,'9,9,9,9').                        |                   |            |                                                              |
| 注意事项:只能出现在整数部分.                                 |                   |            |                                                              |
| 2                                                            | .(点号)           | '99.99'    | 点号,不要念为"句号",句号是个圆圈,点好只能出现在小数点对应的地方.只能出现一次. |
| to_char(1234.34,'9,9,9,9.99')                                |                   |            |                                                              |
| 注意事项:只能出现在一个地方,就是原来数据小数点位置           |                   |            |                                                              |
| 3                                                            | $(美元符号)       | '$999.99'  | 美元.其实你可以放在任意地方(在10G下)                         |
| to_char(1234.34,'9,9,9,9.$99')                               |                   |            |                                                              |
| 注意事项:只能出现一次.                                       |                   |            |                                                              |
| 4                                                            | 0(零)             | '0999.99'  | 零.在对应位置返回对应的字符,如果没有则以'0'填充.             |
| to_char(0.34,'9,9,9,0.$99')='$0.34';to_char(1234,'9999.00')='1234.00'; |                   |            |                                                              |
| 注意事项:这是一个强制的符号,对应位没有,则以'o'填充,这是9很大不同地方 |                   |            |                                                              |
| 5                                                            | 9                 | '999.99'   | 9.在小数位,则表示转换为对应字符,如果没有则以0表示;在整数位,没有对应则不填充字符. |
| to_char(123,'999.99')=123.00;  TO_CHAR(123,'99999.9')=123.0; |                   |            |                                                              |
| 注意事项:对于0和9而言,如果格式的位数不如数字的位数多,会返回'#'. |                   |            |                                                              |
| 譬如to_char(12345,'9999')='#####'                            |                   |            |                                                              |
| 6                                                            | B(空格符)         | 'B999'     | 没有其它特别作用,在整数部分最前面加一个空格,可以出现在任意位置. |
| 'S'\|\|TO_CHAR(1234,'99B99')='S 1234';                       |                   |            |                                                              |
| 注意事项:只能出现在整数部位.                                 |                   |            |                                                              |
| 7                                                            | C(国际货币符号)   | 'C9999'    | 在特定的位置返回一个ISO货币符号(就是NLS_ISO_CURRENCY参数所代表的值) |
| TO_CHAR(1233,'C9999')='CNY1234'  ,这是新的国际标准RMB,关于这个可查询"国际货币符号" |                   |            |                                                              |
| 注意事项:只能出现在整数部位第一位.                           |                   |            |                                                              |
| 可以通过alter session set  NLS_ISO_CURRENCY='JAPAN';来修改当前会话的设置. |                   |            |                                                              |
| 8                                                            | D(ISO 小数位符号) | '999D99'   | 这是"点号"的国际版本(ISO),作用等同于点号,也是只能出现一次.所不同的是,数据库会根据NLS_NUMERIC_CHARACTER的参数值来设置内容.默认的这个值是点号. |
| 注意事项:没有特别需要一般不要用这个格式符号.也不要轻易修改参数值. |                   |            |                                                              |
| 也可用alter sesssion set 来修改.                             |                   |            |                                                              |
| alter session set nls_numeric_characters='!,';    to_char(1234.34,'9999d99')=1234!34 |                   |            |                                                              |
| 9                                                            | EEEE(科学计算符)  | 9.9EEEE    | 科学计算符号                                                 |
| TO_CHAR(2008032001,'9.9EEEE')='2.01E+09',由于是科学计算方法,所以小数位前面加一个9或者0即可,多个是没有意义的. |                   |            |                                                              |
| 10                                                           | G(分组符号)       | 999G999    | 是逗号(,)的的ISO标准,作为分组符号使用,可以放在多个地方使用.  |
| TO_CHAR(123456,'999G9G99')=123,4,56                          |                   |            |                                                              |
| 注意事项:同第八项 -D, 此外如果要转换出小数点,则要和D配合使用,不能和点号配合. |                   |            |                                                              |
| 11                                                           | L(本地货币符号)   | 'L999'     | 是C的本地版本.可以放在整个格式的最前面和最后面.              |
| TO_CHAR(123456,'999G9G99D00L')=123,4,56.00￥                 |                   |            |                                                              |
| 注意事项:同第七项 C                                          |                   |            |                                                              |
| 12                                                           | MI(负号)          | '9999MI'   | 如果是负数,在尾部加上负号(-),如果是正数,则尾巴加上空格       |
| to_char(1234,'9999mi')\|\|'S'\|\|TO_CHAR(-5678,'9999MI') =1234  S5678- |                   |            |                                                              |
| 注意事项:只能放在格式尾巴                                    |                   |            |                                                              |
| 13                                                           | PR(符号)          | 9999PR     | 是表达负数的另外一种方式.如果是正数,则头部加上空格;如果是负数,则用小简括号<>把数字包起来. |
| TO_CHAR(-1234.89,'9G999D00PR')=<1,234.89>                    |                   |            |                                                              |
| 注意事项:同12                                                |                   |            |                                                              |
| 14                                                           | RN(rn)            | RN(rn)     | 把整数(1-3999)转换为罗马字符.RN表示转为大写,rn表示小写的.    |
| declare                                                      |                   |            |                                                              |
| i int;                                                       |                   |            |                                                              |
| begin                                                        |                   |            |                                                              |
| for i in 1..20 loop                                          |                   |            |                                                              |
| dbms_output.put_line(to_char(i,'RN'));                       |                   |            |                                                              |
| end loop;                                                    |                   |            |                                                              |
| end;                                                         |                   |            |                                                              |
| 注意事项:只能自己使用,不能和其它符号组合使用.                |                   |            |                                                              |
| 15                                                           | S                 | '9999S'    | 是12,13的综合改进版本.为整数加一个正号+,为负数加一个符号-.S在前则加在前,在后则在后. |
| TO_CHAR(-1234,'S9999')=-1234;TO_CHAR(1234,'S9999')=+1234     |                   |            |                                                              |
| 16                                                           | TM                | TM9/TMe    | 使用这个参数等于没有用参数to_char(number)一样,应为'tm9'是默认的格式参数. |
| to_char(1234,'tme')=1234                                     |                   |            |                                                              |
| 注意事项:格式要么是TM9,要么是TME.                            |                   |            |                                                              |
| 当数字长度超过64位时候,TM9的输出等同于TME的输出.             |                   |            |                                                              |
| 17                                                           | U                 | U999       | 双币符号,例如欧元.作用同11的L                                |
| TO_CHAR(999,'U999')=￥999                                    |                   |            |                                                              |
| 注意事项：通过NLS_DUAL_CURRENCY 控制                         |                   |            |                                                              |
| 18                                                           | V                 | 999V9      | 这是个比较古怪，又不是很常使用的符号。它的作用在于做一个计算。 |
| 例如TO_CHAR(N,'999V9'),以p表示V的位置,则该表达式＝to_char(N×(10的P-1次方)).但是9个数又必须保证大于等于乘积之后表示的位数. |                   |            |                                                              |
| TO_CHAR(5,'9V')=5*1=5;                                       |                   |            |                                                              |
| TO_CHAR(5,'9V9')=5*10=50                                     |                   |            |                                                              |
| TO_CHAR(5,'9V99')=500                                        |                   |            |                                                              |
| TO_CHAR(50,'9V99')='######' 9的个数不够                      |                   |            |                                                              |
| 注意事项：格式中不能和小数表达写在一起，但是可以混合货币等。 |                   |            |                                                              |
| 19                                                           | X                 | xxxx       | 转换为16进制。                                               |
| TO_CHAR(100,'XX')= 64                                        |                   |            |                                                              |
| 注意事项：数值必须是大于等于0的整数。前面只能和0或者FM组合使用. |                   |            |                                                              |
| 20                                                           |                   |            | 通过以上的例子，我们了解了各种数字的格式。可以说格式太多样，难于记在脑子，最好是作为一个参考存在着. |
| 归类：                                                       |                   |            |                                                              |
| 数值类： 0,9,                                                |                   |            |                                                              |
| 分组类： (.),(,),D,G ,其中点好和逗号因为表示不明显，所以用小括号凸显。 |                   |            |                                                              |
| 货币类：　$,C,L,U                                            |                   |            |                                                              |
| 计算转换类：EEEE,RN,V,X                                      |                   |            |                                                              |
| 正负符号：MI,PR,S                                            |                   |            |                                                              |
| 其它类：B                                                    |                   |            |                                                              |
| 正统类：TM                                                   |                   |            |                                                              |

【示例】
to_char(1210.73, '9999.9') 返回 '1210.7' 
to_char(1210.73,  '9,999.99') 返回 '1,210.73' 
to_char(1210.73, '$9,999.00') 返回 '$1,210.73'  
to_char(21, '000099') 返回 '000021' 
to_char(852,'xxxx') 返回'  354'


【说明2】x为日期型,c2可用参数
　

| 序号                                                         | 格式                                                         | 简例 | 说明                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ---- | ------------------------------------------------------------ |
| 1                                                            | -  / , . ; :                                                 | 略   | 时间分隔符号，除了标准的几个，还允许用文字作为分割符号。     |
| "text"                                                       | 例如  to_char(sysdate,'YYYY"年"mm"月"dd"日"')=2008年04月24日 |      |                                                              |
| 2                                                            | AD                                                           |      | 即拉丁文Anno  Domini的简写，表示公元.会根据nls的不同转换为公元或者ad等 |
| A.D.                                                         | 无特殊注意事项                                               |      |                                                              |
| 3                                                            | AM                                                           |      | 上午的简写 ,同pm, p.m. （下午) , 中文环境输出为上午（如果是上午） |
| A.M.                                                         |                                                              |      |                                                              |
| 4                                                            | BC                                                           |      | 虽然标准的写法是B.c. (c小写） 或者BC,好在Oracle不讲究这个。表示公元前 |
| B.C.                                                         |                                                              |      |                                                              |
| 5                                                            | CC                                                           |      | 返回世纪，以阿拉伯数字表示                                   |
| SCC                                                          | 如果年的后两位介于01-99那么，返回前两位+1，否则返回前两位    |      |                                                              |
| 6                                                            | D                                                            |      | 一周之中的某天，返回的是序号1-7                              |
| 7                                                            | DAY                                                          |      | 一周之中的某天，不过返回的是星期几而已，这和语言设置有关系，在中国环境  NLS_DATE_LANGUAGE=SIMPLIFIED CHINESE ，用星期一到星期天表示 |
| 8                                                            | DD                                                           |      | 月份中的某天(1-31)                                           |
| 9                                                            | DDD                                                          |      | 年份中的某天（1-366）                                        |
| 10                                                           | DL                                                           | 'DL' | 返回长的日期格式。受到NLS_TERRITORY,NLS_LANGUAGE参数控制。例  2008年4月28日 星期一 |
| 限制：除了DL，其它什么的都不能设置。                         |                                                              |      |                                                              |
| 11                                                           | DS                                                           |      | 返回短的日期格式。受到NLS_TERRITORY,NLS_LANGUAGE参数控制。  例如 2008-04-28 |
| 限制：除了DL，其它什么的都不能设置。                         |                                                              |      |                                                              |
| 12                                                           | DY                                                           |      | 日期的简称，就是星期几（当然这指的是中国环境下)              |
| 13                                                           | E                                                            |      | 纪元简称，但是只适合以下集中日历：日本皇室，中华民国,太过佛历 |
| 14                                                           | EE                                                           |      | 纪元全程，适合情况同E                                        |
| 15                                                           | FF [1..9]                                                    |      | 就是毫秒,如果不更上数字就是用默认的精度。                    |
| 只能用于timestamp类型的。                                    |                                                              |      |                                                              |
| 16                                                           | FM                                                           |      | 值得注意的一个函数：不返回任何内容。                         |
| 有点不明白oracle为什么设置这个东西.                          |                                                              |      |                                                              |
| 17                                                           | FX                                                           |      | 同上                                                         |
| 18                                                           | HH                                                           |      | 表示小时，为12小时制，同hh12(1-12)                           |
| 19                                                           | HH12                                                         |      | 表示小时，为12小时制(1-12)                                   |
| 20                                                           | HH24                                                         |      | 表示小时，为24小时制（0-23）                                 |
| 21                                                           | IW                                                           |      | ISO标准的星期序号(1-52,或者1-53）                            |
| 22                                                           | IYYY                                                         |      | IYY,IY,I,  ISO年(4位）的4,3，2，1位数字(倒数）               |
| IYY                                                          | to_char(to_date(21120401,'yyyymmdd'),'iyyy,  iyy,iy,i')=2112, 112,12,2 |      |                                                              |
| IY                                                           |                                                              |      |                                                              |
| I                                                            |                                                              |      |                                                              |
| 23                                                           | J                                                            |      | 儒略日(多用于天文的一种日历）,从公元前4712年一月一日算起，得出的结果是个整数，算法大体为  （公元日期+4712）*儒略日历年平均天数 |
| 24                                                           | MI                                                           |      | 秒（0-59）                                                   |
| 25                                                           | MM                                                           |      | 2位月（1-12）                                                |
| 26                                                           | MON                                                          |      | 月的简称，和国家有关系NLS_DATE_LANGUAGE，例如04在中文环境下用4月表示. |
| 27                                                           | MONTH                                                        |      | 月的名称，国家有关系NLS_DATE_LANGUAGE,目前在中文下04表示为4月。 |
| 28                                                           | PM                                                           |      | 同am,a.m.表示下午                                            |
| P.M.                                                         |                                                              |      |                                                              |
| 29                                                           | Q                                                            |      | 季度（1-4）                                                  |
| 30                                                           | RM                                                           |      | 用罗马数字表示的月份，I    ,II ,III ,IV ,V   ,VI ,VII ,VIII,IX ,X   ,XI ,XII |
| 31                                                           | RR                                                           |      | 有点四舍五入表示年的意思，具体的用法有那么一点点复杂。       |
| 以s表示输入的年份最后两位，c表示当前的年份最后两位,其输出结果(新的年份前两位）可以用函数r=f(s,c)来表示,s2,c2分别表示s,c的前两位。 |                                                              |      |                                                              |
| 1）s=[0,49],c=[0,49],则r=c2                                  |                                                              |      |                                                              |
| 2) s=[0,49],c=[50,99],则 r=c2+1                              |                                                              |      |                                                              |
| 3) s=[50,99],c=[0,49],则r=c2-1                               |                                                              |      |                                                              |
| 4) s=[50,99],c=[50,99],则 r=c2                               |                                                              |      |                                                              |
| 简而言之就是靠近当前年份原则，如果和当前年份同区域那么就一样，如果比当前区域大，那么就是当作是当前世纪前一世纪，否则就是下一个世纪。 |                                                              |      |                                                              |
| 举例来说，以to_date为例子                                    |                                                              |      |                                                              |
| SQL> select to_date('89-01-01','rr-mm-dd')  ,to_date('12-01-01','rr-mm-dd') FROM DUAL; |                                                              |      |                                                              |
|                                                              |                                                              |      |                                                              |
| TO_DATE('89-01-01','RR-MM-DD')  TO_DATE('12-01-01','RR-MM-DD') |                                                              |      |                                                              |
| ------------------------------  ------------------------------ |                                                              |      |                                                              |
| 1989-01-01                     2012-01-01                    |                                                              |      |                                                              |
| 我想oracle会搞这个东东出来，估计有两个考虑一个是为了方便，一个是为了对付百年或者千年问题。 |                                                              |      |                                                              |
| 32                                                           | RRRR                                                         |      | 如果输入参数只有两位，则同rr，否则就同yyyy作用.              |
| 33                                                           | SS                                                           |      | 秒（0-59），一分钟内                                         |
| 34                                                           | SSSSS                                                        |      | 一天从午夜开始的累积秒数.(0-86399)                           |
| 35                                                           | TS                                                           |      | 返回短日期格式内容，包括时分秒等,只能和dl,ds组合使用，格式是: |
| dl ts或者dl ts ,中间以空格间隔开。TO_CHAR(SYSDATE,'TS')=下午 4:50:04 |                                                              |      |                                                              |
| 表现形式受NLS_TERRITORY 和NLS_LANGUAGE影响。                 |                                                              |      |                                                              |
| 36                                                           | TZD                                                          |      | 夏令时制信息，时区简写加上夏令时信息，必须和格式tzr设置的时区对应。 |
| 包括下面三个TZ开头的，都是和时区相关，并不是直接用在to_char  |                                                              |      |                                                              |
| 37                                                           | TZH                                                          |      | 时区中的小时，例如hh:mi:ss.fftzh:tzm'                        |
| 38                                                           | TZM                                                          |      | 时区中的分钟.                                                |
| 39                                                           | TZR                                                          |      | 时区中的区域信息，必须是数据库支持的时区，例如US/Pacific     |
| 40                                                           | WW                                                           |      | 和iw类似，也是表示星期的序号，从年的第一天算起到年的最后一个第七天。二者取值基本相同。（1-53）  ，例如2008-01-01 到2008-01-07 算1，2008-01-09~2008-01-13 算2 |
| 41                                                           | W                                                            |      | 一个月中的星期序号，其算法同ww,不过是局限在一月之内而已，和iso的不同。 |
| 42                                                           | X                                                            |      | 代表本地根符号，没有特别用处，只能和timestamp类型一起使用.   |
| 43                                                           | Y,YYY                                                        |      | 四位年，用都好分隔  例如2,008                                |
| 44                                                           | YEAR                                                         |      | 发音表达的年，例如  2008=two thousand eight                  |
| SYEAR                                                        | S前缀表示公元前BC                                            |      |                                                              |
| 45                                                           | YYYY                                                         |      | 四位年，S前缀表示公元前BC                                    |
| SYYYY                                                        |                                                              |      |                                                              |
| 46                                                           | YYY                                                          |      | 一次表示后面3，2，1位的年，例如2008 可以分别取值为008,08,8   |
| YY                                                           |                                                              |      |                                                              |
| Y                                                            |                                                              |      |                                                              |
|                                                              | 总结                                                         |      | 从以上看，主要就是表示时间几个部分的格式：世纪、年，月，日，时，分,秒，毫秒，以及其它一些混合格式。每个时间部分都可以有多种的表达方式，通过这样归类就比较容易记忆。 |
| 很多格式可以组合使用，这样最终可以形成足够丰富的表达其形势； |                                                              |      |                                                              |
| 其次很多格式和nls是密切相关的；最后某些输出（返回）和格式大小写是有关系的，这在中文环境下体现不出来（目前来没有看到），但是english环境下就名下，以to_char(sysdate,'day')为例子，如果是西文环境是返回sun(假设sysdate位于周末），如果to_char(sysdate,'DAY')则返回SUN |                                                              |      |                                                              |

【示例】
to_char(sysdate,'d') 每周第几天 
to_char(sysdate,'dd') 每月第几天  
to_char(sysdate,'ddd') 每年第几天 
to_char(sysdate,'ww') 每年第几周  
to_char(sysdate,'mm') 每年第几月 
to_char(sysdate,'q') 每年第几季  
to_char(sysdate,'yyyy') 年 


SQL> select to_char(sysdate,' PM yyyy-mm-dd hh24:mi:sssss AD year mon  day ddd iw') FROM  DUAL;
TO_CHAR(SYSDATE,'PMYYYY-MM-DDH
\--------------------------------------------------------------------------------
上午  2008-03-27 09:58:35917 公元 two thousand eight 3月 星期四 087 13
SQL> SELECT  TO_CHAR(SYSTIMESTAMP,'HH24:MI:SS.FF5') FROM  DUAL;
TO_CHAR(SYSTIMESTAMP,'HH24:MI:
\------------------------------
10:02:28.90000
SQL>SELECT  TO_CHAR(SYSDATE,'DS DL') FROM  DUAL
TO_CHAR(SYSDATE,'DSDL')
\-----------------------------------
2008-03-27  2008年3月27日 星期四

【示例】带C3示例

select  to_char(to_date('2002-08-26','yyyy-mm-dd'),'day','NLS_DATE_LANGUAGE = American')  from dual; 
返回：monday 









<iframe type="text/html" width="100%" height="385" src="http://www.youtube.com/embed/gfmjMWjn-Xg" frameborder="0"></iframe>